// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{isPrimitive as e}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-iterable-like@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-arraybuffer@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-data-type@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-index-mode@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-order@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-buffer@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.3.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-typed@v0.3.0-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides2offset@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-arraybuffer@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-array@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-from-buffer@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/array-from-iterator@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-bytes-per-element@v0.2.2-esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";function B(r,e){return l(e)?a(e,"readonly")&&(r.readonly=e.readonly,!m(r.readonly))?new TypeError(d("null2o","readonly",r.readonly)):a(e,"mode")&&(r.mode=e.mode,!f(r.mode))?new TypeError(d("invalid option. `%s` option must be a valid index mode. Option: `%s`.","mode",r.mode)):a(e,"order")&&(r.order=e.order,!u(r.order))?new TypeError(d("invalid option. `%s` option must be a memory layout. Option: `%s`.","order",r.order)):null:new TypeError(d("null2V",e))}var F=v.get("dtypes.default"),k=v.get("order");function A(r){return"generic"===r}function L(r){return"binary"===r}function C(r){return a(r,"order")?r.order:k}function z(r,e,t,n,i,s,o){var l,a,m,f,u;if(A(r))throw new TypeError(d("invalid argument. ArrayBuffer is incompatible with the specified data type. Value: `%s`.",r));return u=i,f=t*n,n<0&&(u-=(f*=-1)*E(r)),l=L(r)?w(e,u,f):y(e,u,f,r),u=g(a=[t],m=[n]),arguments.length>6?new b(r,l,a,m,u,s,o):new b(r,l,a,m,u,s)}function O(r,s,o){var d,a;return d=null===o?{}:o,e(r)?(a=h(s,r),new b(s,a,[a.length],[1],0,C(d),d)):p(r)?(a=A(s)?j(r):L(s)?x(r):y(r,s),new b(s,a,[a.length],[1],0,C(d),d)):i(r)?(a=A(s)?j(r):L(s)?c(r):y(r,s),new b(s,a,[a.length],[1],0,C(d),d)):n(r)?z(s,r,r.byteLength/E(s),1,0,C(d),d):t(r)?(A(s)?(a=r[V](),a=T(a)):L(s)?(a=r[V](),a=c(T(a))):a=y(r,s),new b(s,a,[a.length],[1],0,C(d),d)):null===o&&l(r)?(a=h(s,0),new b(s,a,[a.length],[1],0,C(r),r)):null}function M(){var r,t,i,o,a,m,f,u;if(0===(r=arguments.length))return f=h(F,0),new b(F,f,[f.length],[1],0,k);if(t=arguments[0],1===r){if(s(t))return O(0,t,null);if(null===(u=O(t,F,null)))throw new TypeError(d("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, iterable, data type, or options object. Value: `%s`.",t));return u}if(i=arguments[1],2===r){if(s(t))return O(0,t,i);if(s(i)){if(null===(u=O(t,i,null)))throw new TypeError(d("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or iterable. Value: `%s`.",t));return u}if(e(i)){if(!n(t))throw new TypeError(d("null2B",t));return z(F,t,(t.byteLength-i)/E(F),1,i,k)}if(null===(u=O(t,F,i)))throw new TypeError(d("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or iterable. Value: `%s`.",t));return u}if(o=arguments[2],3===r){if(s(o)){if(!n(t))throw new TypeError(d("null2B",t));if(!e(i))throw new TypeError(d("null2C",i));return z(o,t,(t.byteLength-i)/E(o),1,i,k)}if(s(i)){if(null===(u=O(t,i,o)))throw new TypeError(d("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or iterable. Value: `%s`.",t));return u}if(!n(t))throw new TypeError(d("null2B",t));if(!e(i))throw new TypeError(d("null2C",i));if(l(o))return z(F,t,(t.byteLength-i)/E(F),1,i,C(o),o);if(!e(o))throw new TypeError(d("null2F",o));return z(F,t,o,1,i,k)}if(a=arguments[3],4===r){if(!n(t))throw new TypeError(d("null2B",t));if(!e(i))throw new TypeError(d("null2C",i));if(e(o)){if(s(a))return z(a,t,o,1,i,k);if(!l(a))throw new TypeError(d("null2V",a));return z(F,t,o,1,i,C(a),a)}if(!s(o))throw new TypeError(d("invalid argument. Third argument must be a recognized/supported data type. Value: `%s`.",o));if(!l(a))throw new TypeError(d("null2V",a));return z(o,t,(t.byteLength-i)/E(o),1,i,C(a),a)}if(m=arguments[4],!n(t))throw new TypeError(d("null2B",t));if(!e(i))throw new TypeError(d("null2C",i));if(!e(o))throw new TypeError(d("null2F",o));if(!s(a))throw new TypeError(d("invalid argument. Fourth argument must be a recognized/supported data type. Value: `%s`.",a));if(!l(m))throw new TypeError(d("null2V",m));return z(a,t,o,1,i,C(m),m)}function P(r,l){var a,m;if(!s(r))throw new TypeError(d("invalid argument. First argument must be a supported data type. Value: `%s`.",r));if(a={},arguments.length>1&&(m=B(a,l)))throw m;return function(){var s,d,l,m,f;if(s=o({},a),d=arguments.length,0===d)return M(r,s);if(d>3){if(f=B(s,arguments[3]))throw f;return M(arguments[0],arguments[1],arguments[2],r,s)}if(3===d){if(e(arguments[2]))return M(arguments[0],arguments[1],arguments[2],r,s);if(f=B(s,arguments[2]))throw f;return M(arguments[0],arguments[1],r,s)}if(2===d){if(m=arguments[1],e(l=arguments[0])){if(f=B(s,m))throw f;return M(l,r,s)}if(n(l)){if(e(m))return M(l,m,r,s);if(f=B(s,m))throw f;return M(l,r,s)}if(i(l)){if(f=B(s,m))throw f;return M(l,r,s)}if(f=B(s,m))throw f;return M(l,r,s)}if(l=arguments[0],e(l)||n(l)||i(l)||t(l))return M(l,r,s);if(f=B(s,l),f)throw f;return M(r,s)}}r(M,"factory",P);export{M as default,P as factory};
//# sourceMappingURL=index.mjs.map
